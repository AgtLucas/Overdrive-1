<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Getting Started  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta name="application-name" content="Overdrive">
<meta name="description" content="Powerful task based API in Swift with focus on type safety, concurrency and multi threading.">

<meta name="rating" content="General">
<meta http-equiv="set-cookie" content="name=value; expires=date; path=url">
<meta name="url" content="https://github.com/arikis/Overdrive">
<meta name="google" value="notranslate">

<!-- Twitter card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@SaidSikira">
<meta name="twitter:creator" content="@SaidSikira">
<meta name="twitter:title" content="Overdrive">
<meta name="twitter:url" content="https://github.com/arikis/Overdrive">
<meta name="twitter:description" content="Powerful task based API in Swift with focus on type safety, concurrency and multi threading">
<meta name="twitter:image" content="http://i.imgur.com/ZI34Ho1.png">

<style>
header.header {
  background-color: #2D3E4F;
}
</style>
  </head>
  <body>


    <a title="Getting Started  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          Overdrive Docs
        </a>
         (100% documented)
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/arikis/Overdrive">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">Overdrive Reference</a>
      <img class="carat" src="img/carat.png" />
      Getting Started  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Intro.html">Intro</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="getting-started.html">Getting Started</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="installation.html">Installation</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="state-machine.html">State Machine</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Task.html">Task</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/TaskQueue.html">TaskQueue</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/InlineTask.html">InlineTask</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes.html#/s:C9Overdrive8TaskBase">TaskBase</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/TaskObserver.html">TaskObserver</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/TaskCondition.html">TaskCondition</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/TaskQueueDelegate.html">TaskQueueDelegate</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/Result.html">Result</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/TaskConditionResult.html">TaskConditionResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/TaskConditionError.html">TaskConditionError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="More information.html">More information</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="license.html">License</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other Guides.html">Other Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="dependencies.html">Dependencies</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            
            <a href='#getting-started' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='getting-started'>Getting started</h1>

<p>Our apps constantly do work. The faster you react so some input and produce an output, the more likely is that the user will continue to use your application. As our applications grow in complexity, the more and more work needs to be done. You need to start thinking about how to categorize and optimize work, how to make work more efficient, how to offload work, consider multithreading etc. In most cases that doesn&rsquo;t end very well because it&rsquo;s a very complex field. You need to know all API specifics before you are able to write something.</p>

<p>Overdrive was created as a result of that struggle. It is a framework that exposes several simple concepts which are made on top of complex system frameworks that enable multithreading, concurrency and most importantly, more speed.</p>
<a href='#tasks-and-queues' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='tasks-and-queues'>Tasks and queues</h2>

<p>Unit of work in Overdrive is called a <strong>Task</strong>. Any task is exposed as a <code>Task&lt;T&gt;</code> class that you create subclass of. Inside a subclass, you override <code>run()</code> method that is used to execute your work. That may be fetching data from the internet or retrieving user location.</p>

<p>To finish work in the task, you call <code>finish(with: )</code> method. This method can take a <code>.value(T)</code> or an <code>.error(Error)</code>. This means that your tasks are type safe. If you create a subclass of <code>Task&lt;Int&gt;</code>, you would be only able to finish operation with <code>.value(Int)</code> or an error.</p>

<p>To execute a task, you create an instance of it and you add it to the task queue. <code>TaskQueue</code> will then execute your tasks concurrently and in the most efficient way by default.</p>
<a href='#example-task' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='example-task'>Example task</h2>

<p>Let&rsquo;s say we want to create an task for fetching logo photo from the internet. Logo is located <a href="https://swiftable.io/logo.png">here</a> and we want to fetch the photo and return it as an <code>UIImage</code> instance.</p>
<pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">GetLogoTask</span><span class="p">:</span> <span class="kt">Task</span><span class="o">&lt;</span><span class="kt">UIImage</span><span class="o">&gt;</span> <span class="p">{</span>

  <span class="k">override</span> <span class="kd">func</span> <span class="nf">run</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">let</span> <span class="nv">logoURL</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"https://swiftable.io/logo.png"</span><span class="p">)</span><span class="o">!</span>

      <span class="k">do</span> <span class="p">{</span>
          <span class="k">let</span> <span class="nv">logoData</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Data</span><span class="p">(</span><span class="nv">contentsOf</span><span class="p">:</span> <span class="n">logoURL</span><span class="p">)</span>
          <span class="k">let</span> <span class="nv">image</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="n">logoData</span><span class="p">)</span><span class="o">!</span>
          <span class="nf">finish</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="o">.</span><span class="nf">value</span><span class="p">(</span><span class="n">image</span><span class="p">))</span>
      <span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
          <span class="nf">finish</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="o">.</span><span class="nf">error</span><span class="p">(</span><span class="n">error</span><span class="p">))</span>
      <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<ol>
<li>Created subclass of <code>Task&lt;UIImage&gt;</code></li>
<li>Override run method</li>
<li>Fetch the raw data using <code>Data(contentsOf:)</code> method</li>
<li>Create <code>UIImage</code> object from the returned <code>Data</code></li>
<li>Finish with <code>.value(image)</code> if everything went well</li>
<li>Finish with <code>.error</code> is error was thrown</li>
</ol>
<a href='#configuring-task' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='configuring-task'>Configuring task</h2>

<p>To execute task, you must create an instance of it.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">task</span> <span class="o">=</span> <span class="kt">GetLogoTask</span><span class="p">()</span>
</code></pre>

<p>Tasks can provide information about the finish result. You can use <code>onValue:</code> and <code>onError:</code> methods to define what happens when task finishes.</p>
<pre class="highlight swift"><code><span class="n">task</span>
  <span class="o">.</span><span class="n">onValue</span> <span class="p">{</span> <span class="n">image</span> <span class="k">in</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">image</span><span class="p">)</span> <span class="c1">// UIImage object</span>
  <span class="p">}</span><span class="o">.</span><span class="n">onError</span> <span class="p">{</span> <span class="n">error</span> <span class="k">in</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
  <span class="p">}</span>
</code></pre>
<a href='#task-execution' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='task-execution'>Task execution</h2>

<p>After the task is configured with the completion blocks, you can execute it by adding it to the <code>TaskQueue</code> object. <code>TaskQueue</code> queue objects can be created manually or you can use preconfigured ones. Let&rsquo;s say that we want to execute this task in the background queue.</p>
<pre class="highlight swift"><code><span class="kt">TaskQueue</span><span class="o">.</span><span class="n">background</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="nv">task</span><span class="p">:</span> <span class="n">task</span><span class="p">)</span>
</code></pre>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2016 <a class="link" href="swiftable.io" target="_blank" rel="external">Swiftable</a>. All rights reserved. (Last updated: 2016-11-09)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.7.2</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
